p1= [7264, 7096, 6841, 6583, 6315, 6038, 5849, 5558, 5254, 4942, 4724, 4387, 4157, 3804, 3449, 3211, 2858, 2510, 2282, 1951, 1634, 1426, 1126, 838, 651, 377, 114, 16325, 16070, 15813, 15642, 15384, 15138, 14962, 14705, 14523, 14252, 13969, 13678, 13477, 13166, 12849, 12631, 12288, 11944, 11712, 11367, 11136, 10791, 10456, 10234, 9908, 9592, 9392, 9093, 8810, 8628, 8358, 8091, 7920, 7662, 7403, 7231, 6974, 6800, 6534, 6262, 6074, 5788, 5488, 5280, 4962, 4629, 4403, 4051, 3812, 3447, 3083, 2839, 2488, 2139, 1914, 1591, 1274, 1076]
t1= [1599515444.9993644, 1599515444.9996073, 1599515444.9998512, 1599515445.000114, 1599515445.0003517, 1599515445.000594, 1599515445.000839, 1599515445.001084, 1599515445.0013306, 1599515445.0015726, 1599515445.0018067, 1599515445.0020432, 1599515445.0022788, 1599515445.0025136, 1599515445.002749, 1599515445.002985, 1599515445.003224, 1599515445.0034583, 1599515445.003693, 1599515445.0039277, 1599515445.0041625, 1599515445.0044096, 1599515445.0046453, 1599515445.0048804, 1599515445.005116, 1599515445.0053508, 1599515445.005586, 1599515445.0058208, 1599515445.0060554, 1599515445.00629, 1599515445.0065243, 1599515445.006759, 1599515445.0069938, 1599515445.0072293, 1599515445.007464, 1599515445.007698, 1599515445.007933, 1599515445.0081675, 1599515445.008431, 1599515445.0086658, 1599515445.0089004, 1599515445.0091348, 1599515445.0093703, 1599515445.009605, 1599515445.0098395, 1599515445.010074, 1599515445.0103092, 1599515445.0105436, 1599515445.0107782, 1599515445.0110137, 1599515445.011249, 1599515445.0114846, 1599515445.0117195, 1599515445.0119538, 1599515445.0121946, 1599515445.0124314, 1599515445.0126662, 1599515445.012901, 1599515445.013136, 1599515445.0133705, 1599515445.0136049, 1599515445.01384, 1599515445.0140743, 1599515445.0143092, 1599515445.0145447, 1599515445.0147793, 1599515445.0150135, 1599515445.0152483, 1599515445.0154831, 1599515445.0157177, 1599515445.015952, 1599515445.0161865, 1599515445.016421, 1599515445.0166562, 1599515445.0168905, 1599515445.0171251, 1599515445.01736, 1599515445.017594, 1599515445.0178297, 1599515445.018065, 1599515445.0182996, 1599515445.018535, 1599515445.0187707, 1599515445.019006, 1599515445.0192413]

p2= [1510, 1049, 760, 341, 16323, 16060, 15674, 15281, 15023, 14620, 14199, 13908, 13450, 12963, 12632, 12113, 11757, 11225, 10694, 10353, 9857, 9385, 9082, 8654, 8241, 7973, 7579, 7320, 6928, 6525, 6107, 5044, 4541, 4013, 3660, 3113, 2581, 11352, 10652, 10142, 9660, 9198, 8759, 8345, 7946, 7555, 7159, 6767, 5946, 5344, 4692, 4177, 3632, 3080, 2188, 1525]
t2= [1599515449.2383373, 1599515449.2385964, 1599515449.238835, 1599515449.2390704, 1599515449.239308, 1599515449.2395425, 1599515449.239777, 1599515449.240015, 1599515449.240255, 1599515449.2404902, 1599515449.240724, 1599515449.240958, 1599515449.2411928, 1599515449.2414265, 1599515449.2416606, 1599515449.2418952, 1599515449.2421296, 1599515449.2423644, 1599515449.2425978, 1599515449.242832, 1599515449.2430658, 1599515449.2433007, 1599515449.2435346, 1599515449.243768, 1599515449.2440019, 1599515449.244236, 1599515449.2444706, 1599515449.2447045, 1599515449.244938, 1599515449.245172, 1599515449.245449, 1599515449.246111, 1599515449.2463493, 1599515449.2465851, 1599515449.246821, 1599515449.2470565, 1599515449.2473288, 1599515449.25191, 1599515449.2522273, 1599515449.2525184, 1599515449.252799, 1599515449.2530577, 1599515449.2533092, 1599515449.2535582, 1599515449.2538288, 1599515449.2540934, 1599515449.2543733, 1599515449.2546358, 1599515449.255153, 1599515449.2555532, 1599515449.2558367, 1599515449.256114, 1599515449.2563891, 1599515449.2566485, 1599515449.257149, 1599515449.257432]

p3= [4716, 4250, 3770, 3274, 2783, 2309, 1854, 1423, 1010, 624, 376, 12, 16045, 15697, 15348, 14992, 14753, 14384, 13997, 13590, 13016, 12564, 12090, 11608, 11128, 10654, 10341, 9890, 9461, 9051, 8662, 8414, 8049, 7690, 7218, 6858, 6495, 6118, 5726, 5313, 4878, 4412, 3770, 12533, 12058, 11575, 7662, 6951, 6468]
t3= [1599515470.2793608, 1599515470.2796082, 1599515470.2798748, 1599515470.2801747, 1599515470.2804294, 1599515470.2807114, 1599515470.2809904, 1599515470.2812366, 1599515470.2814834, 1599515470.2817216, 1599515470.2819688, 1599515470.2822163, 1599515470.282509, 1599515470.2827585, 1599515470.2829957, 1599515470.2832327, 1599515470.2834702, 1599515470.2837365, 1599515470.284016, 1599515470.284299, 1599515470.2845812, 1599515470.2848458, 1599515470.2851167, 1599515470.2853868, 1599515470.2856522, 1599515470.2859063, 1599515470.2861457, 1599515470.2863882, 1599515470.2866335, 1599515470.2868867, 1599515470.2871525, 1599515470.2874057, 1599515470.2876697, 1599515470.2879426, 1599515470.2882197, 1599515470.2885442, 1599515470.2888148, 1599515470.289079, 1599515470.2893476, 1599515470.2896085, 1599515470.2898595, 1599515470.2901797, 1599515470.2950928, 1599515470.295441, 1599515470.2957165, 1599515470.296009, 1599515470.2985287, 1599515470.2990584, 1599515470.2993464]

p4= [11734, 11411, 10936, 10620, 10162, 9721, 9303, 9033, 8649, 8401, 8043, 7687, 7451, 7097, 6744, 6497, 6126, 5739, 5465, 5036, 4739, 4282, 3800, 3475, 2985, 2508, 2201, 1757, 1331, 1061, 674, 303, 59, 16090, 15856, 15513, 15163, 14929, 14563, 14185, 13924, 13515, 13081, 12782, 12325, 12010, 11527, 11051, 10732, 10269, 9824, 9536, 9125, 8733, 8483, 8119, 7876, 7524, 7170, 6932, 6566, 6203, 5951, 5547, 5123, 13831]
t4= [1599515471.8733296, 1599515471.873568, 1599515471.873803, 1599515471.8740375, 1599515471.8742733, 1599515471.8745174, 1599515471.874753, 1599515471.874989, 1599515471.8752263, 1599515471.8754613, 1599515471.875696, 1599515471.8759294, 1599515471.876163, 1599515471.8763978, 1599515471.8766322, 1599515471.8768666, 1599515471.877101, 1599515471.8773353, 1599515471.8775697, 1599515471.877804, 1599515471.8780382, 1599515471.8782725, 1599515471.8785083, 1599515471.8787427, 1599515471.878977, 1599515471.8792114, 1599515471.8794467, 1599515471.8796816, 1599515471.879916, 1599515471.8801506, 1599515471.8803854, 1599515471.8806202, 1599515471.880855, 1599515471.8810894, 1599515471.8813238, 1599515471.881559, 1599515471.8817925, 1599515471.8820271, 1599515471.8822627, 1599515471.882497, 1599515471.882732, 1599515471.8829665, 1599515471.8832004, 1599515471.8834348, 1599515471.8836696, 1599515471.883904, 1599515471.8841383, 1599515471.8843725, 1599515471.8846064, 1599515471.8848412, 1599515471.8850758, 1599515471.88531, 1599515471.8855438, 1599515471.8857791, 1599515471.8860137, 1599515471.886248, 1599515471.8864818, 1599515471.886716, 1599515471.8869498, 1599515471.8871844, 1599515471.8874185, 1599515471.8876524, 1599515471.887887, 1599515471.8881216, 1599515471.8883846, 1599515471.893346]

p5= [8247, 7758, 7401, 738, 231, 16133, 15776, 15538, 15181, 14819, 14441, 14051, 13637, 13204, 12900, 12432, 11949, 11462, 10965, 10489, 10179, 9723, 9293, 8885, 8495, 8120, 7876, 7510, 7149, 6784, 6418, 6030, 5757, 5342, 4895, 4419, 3922, 3586, 3074, 2573, 2089, 1630, 1200, 932, 543, 171, 16196, 15842, 15603, 15251, 14888, 14517, 14120, 13716, 13427, 12979, 12514, 12030, 11540, 11213, 10567, 10100]
t5= [1599516279.7894003, 1599516279.789714, 1599516279.7935295, 1599516279.7941337, 1599516279.794417, 1599516279.7947803, 1599516279.795041, 1599516279.7952952, 1599516279.795549, 1599516279.7958024, 1599516279.7960553, 1599516279.796308, 1599516279.7965605, 1599516279.796814, 1599516279.7970667, 1599516279.7973197, 1599516279.7975729, 1599516279.7978268, 1599516279.798079, 1599516279.7983317, 1599516279.7985842, 1599516279.798835, 1599516279.7990854, 1599516279.7993362, 1599516279.7995868, 1599516279.799838, 1599516279.8000886, 1599516279.800339, 1599516279.800589, 1599516279.8008418, 1599516279.8010924, 1599516279.801343, 1599516279.8015933, 1599516279.8018432, 1599516279.802094, 1599516279.8023448, 1599516279.8025951, 1599516279.8028457, 1599516279.803097, 1599516279.8033478, 1599516279.8035986, 1599516279.8038487, 1599516279.8040996, 1599516279.8043513, 1599516279.804602, 1599516279.8048525, 1599516279.8051038, 1599516279.8053536, 1599516279.8056047, 1599516279.8058546, 1599516279.8061056, 1599516279.8063552, 1599516279.8066053, 1599516279.8068557, 1599516279.8071065, 1599516279.8073566, 1599516279.807607, 1599516279.8078568, 1599516279.808108, 1599516279.8084085, 1599516279.8086622, 1599516279.8089142]


p = p5
t = t5

theta_p = []
theta_t = []
tt = []
for i in range(len(p)-1):
    theta_t_i = t[i + 1] - t[i]
    # remove tasks missing deadline 1.5ms
    if theta_t_i > 0.003 or theta_t_i < 0:
        continue
    theta_p_i = p[i] - p[i + 1]
    # remove theta p over zero
    if theta_p_i < -10467 or theta_p_i > 10467:
        continue

    theta_t.append(theta_t_i)
    theta_p.append(theta_p_i)
    tt.append(theta_p_i/theta_t_i)

print("theta_p =", theta_p)
print("theta_t =", theta_t)
print("tt=", tt)

sum_theta_t = sum(theta_t)
if sum_theta_t == 0:
    sum_theta_t = 1
result = (sum(theta_p) / 0x4000) / sum_theta_t
print(result)